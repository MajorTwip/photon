From 1621d0854bc24ac23fcabec451d278b61d236424 Mon Sep 17 00:00:00 2001
From: dan <dan@noemail.net>
Date: Tue, 30 Aug 2022 22:46:08 +0530
Subject: [PATCH] Prevent fts5 tokenizer unicode61 from considering '\0' to be
 a token characters, even if other characters of class "Cc" are.

[sshedi: back port fix to v3.32.1]
- dropped test related changes
Signed-off-by: Shreenidhi Shedi <sshedi@vmware.com>
---
 sqlite3.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/sqlite3.c b/sqlite3.c
index 19c8768..9fcfffc 100644
--- a/sqlite3.c
+++ b/sqlite3.c
@@ -228166,6 +228166,7 @@ static void sqlite3Fts5UnicodeAscii(u8 *aArray, u8 *aAscii){
     }
     iTbl++;
   }
+  aAscii[0] = 0;
 }
 
 /*
-- 
2.25.1

