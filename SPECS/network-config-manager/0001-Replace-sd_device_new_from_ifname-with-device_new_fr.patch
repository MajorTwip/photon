From 6dc774ccc4429060d74d37fb9fb1d888435b7847 Mon Sep 17 00:00:00 2001
From: Nitesh <kunitesh@vmware.com>
Date: Tue, 21 Mar 2023 13:19:12 +0530
Subject: [PATCH] Replace sd_device_new_from_ifname with device_new_from_ifname

As systemd 247 dont have sd_device_new_from_ifname
---
 src/manager/network-manager.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/manager/network-manager.c b/src/manager/network-manager.c
index 1295931..4e94534 100644
--- a/src/manager/network-manager.c
+++ b/src/manager/network-manager.c
@@ -6,7 +6,7 @@
 #include <net/ethernet.h>
 #include <sys/stat.h>
 #include <fcntl.h>
-#include <systemd/sd-device.h>
+#include <device.h>
 
 #include "alloc-util.h"
 #include "config-file.h"
@@ -1763,7 +1763,7 @@ int manager_edit_link_config(const IfNameIndex *ifidx) {
 
         assert(ifidx);
 
-        r = sd_device_new_from_ifname(&sd_device, ifidx->ifname);
+        r = device_new_from_ifname(&sd_device, ifidx->ifname);
         if (r < 0)
              return r;
 
-- 
2.34.1

